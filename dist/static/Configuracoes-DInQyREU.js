import{r,j as e,B as g,T as f,P as y,A as v,b as C}from"./index-B9Nf5u-5.js";import{a as E}from"./index-ngrFHoWO.js";import{T as n}from"./TextField-t-1AHP0N.js";const W=()=>{const[o,l]=r.useState(""),[a,m]=r.useState(""),[i,u]=r.useState(""),[d,c]=r.useState(null),[h,s]=r.useState(null),j=async()=>{var t,x;if(c(null),s(null),!o.trim()||!a.trim()||!i.trim()){s("Preencha todos os campos.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){s("Digite um e-mail válido.");return}try{await E.post("https://api.seudominio.com/api/configuracoes/admin",{nome:o,email:a,senha:i}),c("Administrador criado com sucesso!"),l(""),m(""),u("")}catch(p){console.error("Erro ao criar administrador:",p),s(((x=(t=p.response)==null?void 0:t.data)==null?void 0:x.erro)||"Erro ao criar administrador. Verifique os dados e tente novamente.")}};return e.jsxs(g,{sx:{p:{xs:2,sm:4}},children:[e.jsx(f,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:"Configurações"}),e.jsx(f,{variant:"h6",gutterBottom:!0,children:"Criar Novo Administrador"}),e.jsx(y,{sx:{p:3,maxWidth:500},children:e.jsxs(g,{sx:{display:"flex",flexDirection:"column",gap:2},children:[d&&e.jsx(v,{severity:"success",children:d}),h&&e.jsx(v,{severity:"error",children:h}),e.jsx(n,{label:"Nome",value:o,onChange:t=>l(t.target.value),fullWidth:!0}),e.jsx(n,{label:"E-mail",type:"email",value:a,onChange:t=>m(t.target.value),fullWidth:!0}),e.jsx(n,{label:"Senha",type:"password",value:i,onChange:t=>u(t.target.value),fullWidth:!0}),e.jsx(C,{variant:"contained",onClick:j,sx:{fontWeight:"bold",mt:2},children:"Criar Administrador"})]})})]})};export{W as default};
